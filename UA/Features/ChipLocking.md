# Chip Locking (–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –§—ñ—à–æ–∫)

[‚Üê –ù–∞ –ì–æ–ª–æ–≤–Ω—É](../Main.md)

## –û–≥–ª—è–¥
**Chip Locking** ‚Äî —Ü–µ –º–µ—Ö–∞–Ω—ñ–∫–∞, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ —Ñ—ñ—à–∫–∏ –Ω–∞ —ñ–≥—Ä–æ–≤–æ–º—É –ø–æ–ª—ñ, –∑–∞–±–æ—Ä–æ–Ω—è—é—á–∏ –≥—Ä–∞–≤—Ü–µ–≤—ñ —ó—Ö –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏. –¶–µ —Å—Ç–≤–æ—Ä—é—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –Ω–∞ —Ä—ñ–≤–Ω—è—Ö, –¥–µ –≥—Ä–∞–≤–µ—Ü—å –º–∞—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–≤–∫–æ–ª–æ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.

## –¢–µ—Ö–Ω—ñ—á–Ω–∞ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### –î–∞–Ω—ñ (FieldData)
–°—Ç–∞–Ω –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ `CellData` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `FieldData`:

```csharp
public struct CellData
{
    public string ChipId;
    public Vector2Int Position;
    public bool IsMoveLocked; // –°—Ç–∞–Ω –±–ª–æ–∫—É–≤–∞–Ω–Ω—è
}
```

### Runtime (Chip)
–ö–ª–∞—Å `Chip` –º—ñ—Å—Ç–∏—Ç—å `ChipRuntimeData`, —è–∫–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î—Ç—å—Å—è –∑ –¥–∞–Ω–∏–º–∏ —Ä—ñ–≤–Ω—è –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:

- **`runtimeData.IsMoveLocked`**: –ë—É–ª–µ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–∑–Ω–∞—á–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è.
- **`UpdateRuntimeData()`**: –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –µ—Ñ–µ–∫—Ç—É –±–ª–æ–∫—É–≤–∞–Ω–Ω—è.
- **`CanMoving()`**: –ú–µ—Ç–æ–¥ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î `false`, —è–∫—â–æ —Ñ—ñ—à–∫–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∞.

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è
–î–ª—è –≤—ñ–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **MoveLockedEffect**:
- –ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó (—á–µ—Ä–µ–∑ `UpdateRuntimeData`) –≤—ñ–Ω –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –≤—ñ–∑—É–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ª–∞–Ω—Ü—é–≥–∏ –∞–±–æ –∑–∞–º–æ—á–æ–∫).
- –Ø–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø–æ—Ç—è–≥–Ω—É—Ç–∏ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—É —Ñ—ñ—à–∫—É, —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –∞–Ω—ñ–º–∞—Ü—ñ—è "DontMove", —è–∫–∞ –¥–∞—î –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–π –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫.

## –†–µ–¥–∞–∫—Ç–æ—Ä –†—ñ–≤–Ω—ñ–≤ (Level Editor)
–ú–µ—Ö–∞–Ω—ñ–∫–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ —É –≤—ñ–∑—É–∞–ª—å–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ä—ñ–≤–Ω—ñ–≤:

1.  **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–µ –º–µ–Ω—é**: –ü—Ä–∞–≤–∏–π –∫–ª—ñ–∫ –ø–æ —Ñ—ñ—à—Ü—ñ –Ω–∞ —Å—ñ—Ç—Ü—ñ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –º–µ–Ω—é –∑ –æ–ø—Ü—ñ—î—é **"Lock Move"** –∞–±–æ **"Unlock Move"**.
2.  **–í—ñ–∑—É–∞–ª—å–Ω–∞ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—è**: –£ —Ä–µ–∂–∏–º—ñ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ —Ñ—ñ—à–∫–∏ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è —ñ–∫–æ–Ω–∫–æ—é üîí —É –Ω–∏–∂–Ω—å–æ–º—É –ø—Ä–∞–≤–æ–º—É –∫—É—Ç—ñ –∫–æ–º—ñ—Ä–∫–∏.
3.  **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è**: –°—Ç–∞–Ω –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Asset –ø–æ–ª—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏ "Save".

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –ì–µ–π–º–ø–ª–µ—ó
–ó–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ —Ñ—ñ—à–∫–∏:
- –ù–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω—ñ –≥—Ä–∞–≤—Ü–µ–º (DRAG –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ).
- –ú–æ–∂—É—Ç—å –±—Ä–∞—Ç–∏ —É—á–∞—Å—Ç—å —É –∑–ª–∏—Ç—Ç—ñ (—è–∫—â–æ —Ü–µ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ –ª–æ–≥—ñ–∫–æ—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É —Ñ—ñ—à–∫–∏), –∞–ª–µ —Å–∞–º—ñ –Ω–µ —ñ–Ω—ñ—Ü—ñ—é—é—Ç—å –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è.
- –ë—É–¥—É—Ç—å —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏—Å—è —Å–∏—Å—Ç–µ–º–æ—é **Chip Relocation**, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—Ö –ø–æ–∑–∏—Ü—ñ—è –≤–≤–∞–∂–∞—î—Ç—å—Å—è —Å—Ç–∞—Ç–∏—á–Ω–æ—é ("–ø—Ä–∏–±–∏—Ç–æ—é").
